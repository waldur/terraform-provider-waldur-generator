package {{ .CleanName }}

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework-timetypes/timetypes"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"

	"github.com/waldur/terraform-provider-waldur/internal/sdk/common"
)

{{- if .FilterParams }}
type {{ .Name | title }}FiltersModel struct {
	{{- range .FilterParams }}
	{{ .Name | title }} {{ .GoType }} `tfsdk:"{{ .Name }}"`
	{{- end }}
}
{{- end }}

type {{ .Name | title }}Model struct {
	UUID types.String `tfsdk:"id"`
	{{- range .ResponseFields }}
	{{- if eq .Format "date-time" }}
	{{ .Name | title }} timetypes.RFC3339 `tfsdk:"{{ .Name }}"`
	{{- else }}
	{{ .Name | title }} {{ .GoType }} `tfsdk:"{{ .Name }}"`
	{{- end }}
	{{- end }}
}

// CopyFrom maps the API response to the model fields.
func (model *{{ .Name | title }}Model) CopyFrom(ctx context.Context, apiResp {{ .Name | title }}Response) diag.Diagnostics {
	var diags diag.Diagnostics

	model.UUID = types.StringPointerValue(apiResp.UUID)
	{{- template "mapResponseToModel" . }}

	return diags
}
